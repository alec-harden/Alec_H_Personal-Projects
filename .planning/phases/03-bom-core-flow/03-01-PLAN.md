---
phase: 03-bom-core-flow
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/lib/types/bom.ts
  - src/lib/data/templates.ts
autonomous: true

must_haves:
  truths:
    - "BOM types are exported and usable across the application"
    - "5 project templates are defined with complete metadata"
    - "Templates include dimensions, joinery options, and material suggestions"
  artifacts:
    - path: "src/lib/types/bom.ts"
      provides: "BOM TypeScript type definitions"
      min_lines: 30
      exports: ["BOMCategory", "BOMItem", "BOM", "ProjectDetails"]
    - path: "src/lib/data/templates.ts"
      provides: "Project template definitions"
      min_lines: 100
      exports: ["ProjectTemplate", "templates"]
  key_links:
    - from: "src/lib/data/templates.ts"
      to: "src/lib/types/bom.ts"
      via: "imports ProjectDetails interface"
      pattern: "import.*from.*types/bom"
---

<objective>
Define BOM TypeScript types and project templates for the guided workflow.

Purpose: Establish the data foundation for BOM generation - types ensure consistency across frontend/backend, templates provide domain knowledge for the wizard UI and AI prompt construction.

Output: Two TypeScript modules providing type definitions and 5 woodworking project templates.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-ai-integration/02-02-SUMMARY.md

# Existing patterns to follow:
@src/lib/server/schema.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create BOM TypeScript types</name>
  <files>src/lib/types/bom.ts</files>
  <action>
Create a new types file with the following definitions:

1. `BOMCategory` - union type: 'lumber' | 'hardware' | 'finishes' | 'consumables'

2. `BOMItem` interface:
   - id: string
   - name: string
   - description?: string
   - quantity: number
   - unit: string (e.g., 'pcs', 'bf', 'oz', 'each')
   - category: BOMCategory
   - notes?: string

3. `BOM` interface:
   - projectName: string
   - projectType: string (template id)
   - generatedAt: string (ISO date)
   - items: BOMItem[]

4. `ProjectDetails` interface (wizard input):
   - templateId: string
   - projectName: string
   - dimensions: { length: number; width: number; height?: number; unit: 'inches' | 'cm' }
   - joinery: string[] (selected joinery method ids)
   - woodSpecies: string
   - finish: string
   - additionalNotes?: string

Export all types.
  </action>
  <verify>npm run check passes with no TypeScript errors</verify>
  <done>All 4 type definitions exported, TypeScript compiles successfully</done>
</task>

<task type="auto">
  <name>Task 2: Create project templates</name>
  <files>src/lib/data/templates.ts</files>
  <action>
Create a templates module with:

1. `JoineryOption` interface:
   - id: string
   - name: string
   - description: string
   - difficulty: 'beginner' | 'intermediate' | 'advanced'

2. `ProjectTemplate` interface:
   - id: string
   - name: string
   - icon: string (HTML entity for emoji)
   - description: string
   - defaultDimensions: { length: { min, max, default }, width: { min, max, default }, height?: { min, max, default }, unit: 'inches' }
   - joineryOptions: JoineryOption[]
   - suggestedWoods: string[]
   - suggestedFinishes: string[]
   - typicalHardware: string[]

3. Create 5 templates:

   a) **table** - "Table"
      - Description: "Dining tables, coffee tables, end tables, desks"
      - Default dimensions: 60x36x30 inches (dining), ranges appropriate for different table sizes
      - Joinery: mortise-and-tenon, pocket screws, dowels, breadboard ends
      - Woods: oak, walnut, maple, pine
      - Finishes: polyurethane, danish oil, lacquer, wax
      - Hardware: tabletop fasteners, leveling feet, apron bolts

   b) **cabinet** - "Cabinet"
      - Description: "Kitchen cabinets, bathroom vanities, storage cabinets"
      - Default dimensions: 30x24x34 inches (base cabinet)
      - Joinery: dado joints, rabbet joints, pocket screws, dowels
      - Woods: maple, birch plywood, oak, cherry
      - Finishes: paint, lacquer, polyurethane
      - Hardware: hinges, drawer slides, pulls/knobs, shelf pins

   c) **shelf** - "Shelf / Bookcase"
      - Description: "Wall shelves, bookcases, display shelving"
      - Default dimensions: 36x12x48 inches
      - Joinery: dado joints, floating shelf brackets, pocket screws
      - Woods: pine, oak, plywood, walnut
      - Finishes: stain + poly, paint, natural oil
      - Hardware: shelf brackets, wall anchors, shelf pins

   d) **workbench** - "Workbench"
      - Description: "Shop workbenches, assembly tables, tool stands"
      - Default dimensions: 72x24x34 inches
      - Joinery: mortise-and-tenon, through-tenons, lag bolts, half-lap
      - Woods: maple, beech, southern yellow pine, Douglas fir
      - Finishes: boiled linseed oil, wax, none
      - Hardware: bench dogs, vises, casters, hold-down clamps

   e) **box** - "Box / Chest"
      - Description: "Storage boxes, blanket chests, jewelry boxes, toolboxes"
      - Default dimensions: 24x12x12 inches
      - Joinery: box joints, dovetails, rabbet joints, miter joints
      - Woods: cedar, walnut, cherry, pine
      - Finishes: danish oil, shellac, lacquer
      - Hardware: hinges, lid support, latches, handles

Export both the `ProjectTemplate` interface and the `templates` array.
  </action>
  <verify>npm run check passes, templates array has exactly 5 items</verify>
  <done>5 complete project templates exported with all required fields populated</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run check` passes (0 errors, 0 warnings)
- [ ] `src/lib/types/bom.ts` exports BOMCategory, BOMItem, BOM, ProjectDetails
- [ ] `src/lib/data/templates.ts` exports ProjectTemplate interface and templates array
- [ ] templates array contains exactly 5 items
- [ ] Each template has all required fields populated
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Types are importable from $lib/types/bom
- Templates are importable from $lib/data/templates
</success_criteria>

<output>
After completion, create `.planning/phases/03-bom-core-flow/03-01-SUMMARY.md`
</output>
